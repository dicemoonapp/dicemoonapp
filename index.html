<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://vjs.zencdn.net/7.11.4/video-js.css" rel="stylesheet" />
    <link rel="stylesheet" href="static/styles.css">
    <title>video</title>
</head>
<body>
    <div class="container">
        <div class="video-holder">
            <video width="100%" id="my-video" class="video-js" preload="auto" data-setup="{}" autoplay muted loop>
            <source src="videos/CrcyWr0xhTatC1kSPdC9.mp4" type="video/mp4" />
          <p class="vjs-no-js">
            To view this video please enable JavaScript, and consider upgrading to a
            web browser that <a href="https://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>
          </p>
    </video>
        </div>
        <div class="logo">DiceMoon</div>
        <div class="row" id="controls">
            <div class="controls">
                <div class="profile" onclick="openProfile()">
                    <img src="static/profile.svg" intrinsicsize="512 x 512" width="100%" height="100%" srcset="static/profile.svg 4x" alt="Next SVG Vector" title="Next SVG Vector">
                </div>
                <div class="home">
                    <img src="static/home.png" alt="" width="100%" height="100%">
                </div>
                <div class="next" onclick="playVideo()">
                    <img src="static/next.svg" intrinsicsize="512 x 512" width="100%" height="100%" srcset="static/next.svg 4x" alt="Next SVG Vector" title="Next SVG Vector">
                </div>
            </div>
        </div>
    </div>
    <script src="https://vjs.zencdn.net/7.11.4/video.min.js"></script>
    <script>
        var videos;
        fetch('videos.json')
        .then(response => response.json())
        .then(function(data){ videos = data.videos; });

        function playVideo(){
            random = Math.floor(Math.random()*videos.length)
            video = videos[random];
            videojs.getPlayer('my-video').src(video.source)
            videojs.getPlayer('my-video').muted(false)
            /*var player = document.querySelector(".video-holder")
            player.innerHTML = ""
            var videoEl = document.createElement('video');
            videoEl.setAttribute('loop','')
            videoEl.setAttribute('autoplay','')
            videoEl.setAttribute('width','100%')
            videoEl.setAttribute('height','100%')
            var sourceEl = document.createElement('source');
            sourceEl.setAttribute('src',video.source)
            sourceEl.setAttribute('type','video/mp4')
            videoEl.appendChild(sourceEl)
            player.appendChild(videoEl)
            videoEl.play()
            let nextEl = document.getElementsByClassName('next')[0]
            nextEl.classList.add('disabled')
            let interval = setInterval(function(){
                nextEl.classList.remove('disabled')
                clearInterval(interval)
            },5000) */
        }
    </script>
</body>
</html>
